
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Up and testing with Autotest and Growl - Defending the Code</title>
  <meta name="author" content="Andrew M. Slack">

  
  <meta name="description" content="We know testing is great. Write a test, run the test, make the test pass, refactor, rinse, repeat. How about making automating the &#8220;run the &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://andrewslack.github.com/blog/2013/02/08/up-and-testing-with-autotest-and-growl/">
  <link href="/blog/favicon.png" rel="icon">
  <link href="/blog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/blog/javascripts/modernizr-2.0.js"></script>
  <script src="/blog/javascripts/ender.js"></script>
  <script src="/blog/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/blog/atom.xml" rel="alternate" title="Defending the Code" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/blog/">Defending the Code</a></h1>
  
    <h2>My TDD Experiences</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/blog/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:andrewslack.github.com/blog" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/blog/">Blog</a></li>
  <li><a href="/blog/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Up and Testing With Autotest and Growl</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-02-08T14:52:00-07:00" pubdate data-updated="true">Feb 8<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>We know testing is great.  Write a test, run the test, make the test pass, refactor, rinse, repeat.  How about making automating the &#8220;run the test&#8221; step?</p>

<p>Yes, that would be great.</p>

<p>To get started add these items to your gemfile</p>

<figure class='code'><figcaption><span>[gemfile] </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>gem "autotest"
</span><span class='line'>gem "autotest-growl"
</span><span class='line'>gem "autotest-fsevent"
</span><span class='line'>
</span><span class='line'>> bundle          # => to install these gems</span></code></pre></td></tr></table></div></figure>


<p>autotest-fsevent monitors for file changes and engages autotest when it finds a file that has changed (the way it does it is far more efficient than polling the filesystem), autotest is the gem that runs the tests and autotest-growl notifies Growl (<a href="http://growl.info/">1</a>) the test results.</p>

<p>Our tests will be written in Rspec and for this to look good we should add some pleasant formatting options. To do that we add the following to the .rpsec file:</p>

<figure class='code'><figcaption><span>[.rspec options] </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>--color
</span><span class='line'>--format nested</span></code></pre></td></tr></table></div></figure>


<p>For more options run rspec &#8211;help</p>

<p>When autotest fires up it looks for an .autotest settings file.  This file can be in the project folder and/or home folder, the former overrides the latter.  So for us we will drop our settings into a local .autotest</p>

<figure class='code'><figcaption><span>[.autotest options] </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>require "autotest/growl"         # =>  to interact with Growl
</span><span class='line'>require "autotest/fsevent"            # =>  to interact with filesystem events</span></code></pre></td></tr></table></div></figure>


<p>That&#8217;s all the config settings we need.  Now we start up autotest [-v] from the commandline.  Go change a test and see autotest engage and notify you thru Growl!</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Andrew M. Slack</span></span>

      








  


<time datetime="2013-02-08T14:52:00-07:00" pubdate data-updated="true">Feb 8<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/autotest-/'>autotest,</a>, <a class='category' href='/blog/categories/growl-/'>growl,</a>, <a class='category' href='/blog/categories/rspec-/'>rspec,</a>, <a class='category' href='/blog/categories/ruby-/'>ruby,</a>, <a class='category' href='/blog/categories/tdd/'>tdd</a>, <a class='category' href='/blog/categories/test-/'>test,</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://andrewslack.github.com/blog/2013/02/08/up-and-testing-with-autotest-and-growl/" data-via="" data-counturl="http://andrewslack.github.com/blog/2013/02/08/up-and-testing-with-autotest-and-growl/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/02/06/getting-jenkins-to-run-on-a-different-port/" title="Previous Post: Getting Jenkins to run on a different port">&laquo; Getting Jenkins to run on a different port</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/03/06/running-mongodb-as-a-mac-osx-daemon/" title="Next Post: Running Mongodb as a Mac OSX Daemon">Running Mongodb as a Mac OSX Daemon &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/04/04/up-and-testing-with-guard-and-growl/">Up and Testing with Guard and Growl</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/06/running-mongodb-as-a-mac-osx-daemon/">Running Mongodb as a Mac OSX Daemon</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/08/up-and-testing-with-autotest-and-growl/">Up and testing with Autotest and Growl</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/06/getting-jenkins-to-run-on-a-different-port/">Getting Jenkins to run on a different port</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/05/changing-the-code-page-in-windows-to-help-debug-a-utf-8-issue/">Changing the code page in Windows to help debug a UTF-8 issue</a>
      </li>
    
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Andrew M. Slack -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
