
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Running Fitnesse from Jenkins - Defending the Code</title>
  <meta name="author" content="Andrew M. Slack">

  
  <meta name="description" content="As defenders of the code we want to integrate our Fitnesse tests into the Team&#8217;s CI process So that the team will be alerted to any failures &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://andrewslack.github.com/blog/2012/12/06/running-fitnesse-from-jenkins/">
  <link href="/blog/favicon.png" rel="icon">
  <link href="/blog/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/blog/javascripts/modernizr-2.0.js"></script>
  <script src="/blog/javascripts/ender.js"></script>
  <script src="/blog/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/blog/atom.xml" rel="alternate" title="Defending the Code" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/blog/">Defending the Code</a></h1>
  
    <h2>My TDD Experiences</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/blog/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:andrewslack.github.com/blog" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/blog/">Blog</a></li>
  <li><a href="/blog/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Running Fitnesse From Jenkins</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-06T14:00:00-07:00" pubdate data-updated="true">Dec 6<span>th</span>, 2012</time>
        
      </p>
    
  </header>


<div class="entry-content"><blockquote><p>As defenders of the code<br/>  we want to integrate our Fitnesse tests into the Team&#8217;s CI process<br/>  So that the team will be alerted to any failures when assumptions are broken</p></blockquote>


<p>In order to run our tests from Jenkins we need to make sure that our tests are runnable from the command line.  As luck would have it there is a Fitnesse plugin, called Trinidad, that is callable from Maven.</p>

<figure class='code'><figcaption><span>[Running the Trinidad plugin at the integration-test build phase] []  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;plugin&gt;</span>
</span><span class='line'>  <span class="nt">&lt;artifactId&gt;</span>maven-trinidad-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>  <span class="nt">&lt;version&gt;</span>20090818<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>  
</span><span class='line'>  <span class="nt">&lt;executions&gt;</span>
</span><span class='line'>      <span class="nt">&lt;execution&gt;</span>
</span><span class='line'>          <span class="nt">&lt;phase&gt;</span>integration-test<span class="nt">&lt;/phase&gt;</span>
</span><span class='line'>          <span class="nt">&lt;goals&gt;</span>
</span><span class='line'>              <span class="nt">&lt;goal&gt;</span>run-tests<span class="nt">&lt;/goal&gt;</span>
</span><span class='line'>          <span class="nt">&lt;/goals&gt;</span>
</span><span class='line'>          <span class="nt">&lt;configuration&gt;</span>
</span><span class='line'>              <span class="nt">&lt;testEngine&gt;</span>fit<span class="nt">&lt;/testEngine&gt;</span>
</span><span class='line'>              <span class="nt">&lt;testRepositoryType&gt;</span>fitnesse<span class="nt">&lt;/testRepositoryType&gt;</span>
</span><span class='line'>              <span class="nt">&lt;testRepositoryUri&gt;</span>${basedir}/target/test-classes/fitnesse<span class="nt">&lt;/testRepositoryUri&gt;</span>
</span><span class='line'>              <span class="nt">&lt;stopAfterFirstFailure&gt;</span>false<span class="nt">&lt;/stopAfterFirstFailure&gt;</span>
</span><span class='line'>              <span class="nt">&lt;breakBuildOnFailure&gt;</span>true<span class="nt">&lt;/breakBuildOnFailure&gt;</span>
</span><span class='line'>              <span class="nt">&lt;resultRepositoryUri&gt;</span>${basedir}/target/ErrorLogs/${fitnesse.root}<span class="nt">&lt;/resultRepositoryUri&gt;</span>             
</span><span class='line'>              <span class="nt">&lt;singleTest&gt;</span>${fitnesse.test}<span class="nt">&lt;/singleTest&gt;</span>
</span><span class='line'>              <span class="nt">&lt;singleSuite&gt;</span>${fitnesse.suite}<span class="nt">&lt;/singleSuite&gt;</span>
</span><span class='line'>          <span class="nt">&lt;/configuration&gt;</span>
</span><span class='line'>      <span class="nt">&lt;/execution&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/executions&gt;</span>
</span><span class='line'><span class="nt">&lt;/plugin&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>This will run the tests locally and spit out the results.  In order for this to work we need make sure that the fitnesse tests are copied into the build area prior to the integration-test phase.</p>

<figure class='code'><figcaption><span>[Copy the test cases into the build area] []  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;plugin&gt;</span>
</span><span class='line'>  <span class="nt">&lt;groupId&gt;</span>org.codehaus.mojo<span class="nt">&lt;/groupId&gt;</span>
</span><span class='line'>  <span class="nt">&lt;artifactId&gt;</span>build-helper-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
</span><span class='line'>  <span class="nt">&lt;version&gt;</span>1.3<span class="nt">&lt;/version&gt;</span>
</span><span class='line'>  <span class="nt">&lt;executions&gt;</span>
</span><span class='line'>  <span class="nt">&lt;execution&gt;</span>
</span><span class='line'>     <span class="nt">&lt;id&gt;</span>copy-fitnesse-tests<span class="nt">&lt;/id&gt;</span>
</span><span class='line'>     <span class="nt">&lt;phase&gt;</span>generate-sources<span class="nt">&lt;/phase&gt;</span>
</span><span class='line'>     <span class="nt">&lt;goals&gt;</span>
</span><span class='line'>       <span class="nt">&lt;goal&gt;</span>add-test-resource<span class="nt">&lt;/goal&gt;</span>
</span><span class='line'>     <span class="nt">&lt;/goals&gt;</span>
</span><span class='line'>     <span class="nt">&lt;configuration&gt;</span>
</span><span class='line'>       <span class="nt">&lt;resources&gt;</span>
</span><span class='line'>         <span class="nt">&lt;resource&gt;</span>
</span><span class='line'>           <span class="nt">&lt;directory&gt;</span>${basedir}/src/test/fitnesse/MyTests<span class="nt">&lt;/directory&gt;</span>
</span><span class='line'>           <span class="nt">&lt;targetPath&gt;</span>fitnesse/FitNesseRoot/MyTests<span class="nt">&lt;/targetPath&gt;</span>
</span><span class='line'>         <span class="nt">&lt;/resource&gt;</span>
</span><span class='line'>       <span class="nt">&lt;/resources&gt;</span>
</span><span class='line'>     <span class="nt">&lt;/configuration&gt;</span>
</span><span class='line'>   <span class="nt">&lt;/execution&gt;</span>
</span><span class='line'>  <span class="nt">&lt;/executions&gt;</span>
</span><span class='line'><span class="nt">&lt;/plugin&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The nice thing here is that the tests are under source control and are copied into the temporary build area (target) and can be disposed after the lifetime of the test execution.</p>

<p>From Jenkins setup a maven based job and configure it as if wwere running it from command line:</p>

<figure class='code'><figcaption><span>[Copy the test cases into the build area] []  </span></figcaption>
 <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'>mvn clean install -Dfitnesse.suite=MyTests
</span></code></pre></td></tr></table></div></figure>


<p>This will build your project and run the fitnesse tests.</p>

<p>Overall there are some obvious advantages doing things this way:</p>

<ul>
<li>No need to depend on a central Fitnesse server to upload your tests and code dependencies to.</li>
<li>Run on any version of fitnesse.  So if you need the latest you can update your dependencies are rerun.</li>
<li>Tests are under source control and as such their history is preserved as well as their content</li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Andrew M. Slack</span></span>

      








  


<time datetime="2012-12-06T14:00:00-07:00" pubdate data-updated="true">Dec 6<span>th</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/fitnesse-/'>Fitnesse,</a>, <a class='category' href='/blog/categories/jenkins/'>Jenkins</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://andrewslack.github.com/blog/2012/12/06/running-fitnesse-from-jenkins/" data-via="" data-counturl="http://andrewslack.github.com/blog/2012/12/06/running-fitnesse-from-jenkins/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
      
        <a class="basic-alignment right" href="/blog/2013/02/05/removing-embedded-documents-from-mongo/" title="Next Post: removing embedded documents from mongo">removing embedded documents from mongo &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/03/06/running-mongodb-as-a-mac-osx-daemon/">Running Mongodb as a Mac OSX Daemon</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/08/up-and-testing-with-autotest-and-growl/">Up and testing with Autotest and Growl</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/06/getting-jenkins-to-run-on-a-different-port/">Getting Jenkins to run on a different port</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/05/changing-the-code-page-in-windows-to-help-debug-a-utf-8-issue/">Changing the code page in Windows to help debug a UTF-8 issue</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/05/removing-embedded-documents-from-mongo/">removing embedded documents from mongo</a>
      </li>
    
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Andrew M. Slack -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
